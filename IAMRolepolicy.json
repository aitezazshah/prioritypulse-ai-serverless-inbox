{
	"Version": "2012-10-17",
	"Statement": [
		{
			"Sid": "ListIncomingPrefix",
			"Effect": "Allow",
			"Action": "s3:ListBucket",
			"Resource": "arn:aws:s3:::smart-inbox-incoming-messages",
			"Condition": {
				"StringLike": {
					"s3:prefix": "incoming/*"
				}
			}
		},
		{
			"Sid": "GetIncomingObjects",
			"Effect": "Allow",
			"Action": [
				"s3:GetObject",
				"s3:GetObjectVersion"
			],
			"Resource": "arn:aws:s3:::smart-inbox-incoming-messages/incoming/*"
		},
		{
			"Sid": "ComprehendDetectSentiment",
			"Effect": "Allow",
			"Action": "comprehend:DetectSentiment",
			"Resource": "*"
		},
		{
			"Sid": "SQSSend",
			"Effect": "Allow",
			"Action": "sqs:SendMessage",
			"Resource": [
				"arn:aws:sqs:us-east-1:*:HighPriorityQueue",
				"arn:aws:sqs:us-east-1:*:NormalQueue"
			]
		},
		{
			"Sid": "OptionalProcessedFolderAccess",
			"Effect": "Allow",
			"Action": [
				"s3:PutObject",
				"s3:DeleteObject"
			],
			"Resource": [
				"arn:aws:s3:::smart-inbox-incoming-messages/processed/*",
				"arn:aws:s3:::smart-inbox-incoming-messages/incoming/*"
			]
		}
	]
}
